<style type="text/css">
   p{
   text-indent: 2em; /*em是相对单位,2em即现在一个字大小的两倍*/
   }
</style>


<h2>对Segmentation fault (core dumped)的处理</h2>

<p>在可执行程序的当前目录下使用<b>ulimit -c unlimited</b>,不限制core文件的大小。</p>  

<p>接着使用gdb查看core文件查看错误信息,例如gdb xxxx(可执行文件) core(对应的core dumped文件)</p>

<h2>GDB常用命令</h2>

<pre>
      (gdb)help : 查看命令帮助,具体命令查询在gdb中输入help + 命令,简写h

      (gdb)run  : 重新开始运行文件(run-text:加载文本文件,run-bin:加载二进制文件),简写r

      (gdb)start: 单步执行,运行程序,停在第一执行语句

      (gdb)list : 查看原代码
                  
      (gdb)set  : 设置变量的值

      (gdb)next : 单步调试(逐过程,函数直接执行),简写n

      (gdb)step : 单步调试(逐语句:跳入自定义函数内部执行),简写s

      (gdb)backtrace : 查看函数的调用的栈帧和层级关系,简写bt

      (gdb)frame : 切换函数的栈帧,简写f

      (gdb)info  : 查看函数内部局部变量的数值,简写i

      (gdb)finish : 结束当前函数,返回到函数调用点

      (gdb)continue : 继续运行,简写c

      (gdb)print : 打印值及地址,简写p

      (gdb)display : 追踪查看具体变量值

      (gdb)undisplay : 取消追踪观察变量

      (gdb)watch : 被设置观察点的变量发生修改时,打印显示。
           awatch : 被设置观察点的变量发生修改或被访问时,打印显示。
           i watch : 显示观察点

      (gdb)enable breakpoints : 启用断点

      (gdb)disable breakpoints : 禁用断点

      (gdb) attach pid : 在程序运行时用gdb挂载程序进行调试。





      //实际工作中使用的命令(使用频率高的)
      1. 带参启动
         使用gdb启动程序,然后在使用 set args xxx  xxx(启动参数)

      2. 查看所有设置的断点
         info b

      3. 删除断点
         delete  num : 删除第num个断点,delete可以简写d
         delete  num1~num2 : 删除范围断点 

      4. gdb生成core文件
         gdb 运行程序时 执行 gcore xxxx(你定义的core文件名),文件生成在当前目录下

</pre>
